@using ProjectManagementSystem.ViewModels;
@using ProjectManagementSystem.Data;
@using Microsoft.AspNetCore.Identity;
@using Microsoft.AspNetCore.Http
@model DefectEditViewModel
@inject ApplicationDbContext applicationDbContext
@inject UserManager<ApplicationUser> userManager
<form method="post">
    <input class="form-control" asp-for="Defect.Id" hide>
    <div class="form-group row">
        <label asp-for="Defect.Name" class="col-sm-2"></label>
        <div class="col-sm-10">
            <input class="form-control" asp-for="Defect.Name">
            <span class="invalid" asp-validation-for="Defect.Name"></span>
        </div>
    </div>

    <div class="form-group row">
        <label asp-for="Defect.Description" class="col-sm-2"></label>
        <div class="col-sm-10">
            <input class="form-control" asp-for="Defect.Description">
            <span class="invalid" asp-validation-for="Defect.Description"></span>
        </div>
    </div>

    <div class="form-group row">
        <label asp-for="Defect.CreateDate" class="col-sm-2"></label>
        <div class="col-sm-10">
            <input class="form-control" asp-for="Defect.CreateDate ">
            <span class="invalid" asp-validation-for="Defect.CreateDate"></span>
        </div>
    </div>


    <div class="form-group row">
        <label asp-for="Defect.Status" class="col-sm-2"></label>
        <div class="col-sm-8">
            <select asp-for="Defect.Status" asp-items="@new SelectList(applicationDbContext.DefectStatuses.Select(a=>a.StatusName).ToList())" class="form-control valid">
            </select>
            <span class="invalid" asp-validation-for="Defect.Status"></span>
        </div>
        @*        <div class="col-sm-2">
        <a asp-action="AddTable" class="btn btn-secondary">加</a>
        </div>*@
    </div>

    <div class="form-group row">
        <label asp-for="Defect.Solution" class="col-sm-2"></label>
        <div class="col-sm-10">
            <input class="form-control" asp-for="Defect.Solution">
            <span class="invalid" asp-validation-for="Defect.Solution"></span>
        </div>
    </div>

    <div class="form-group row">
        <label asp-for="Defect.Type" class="col-sm-2"></label>
        <div class="col-sm-8">
            <select asp-for="Defect.Type" asp-items="@new SelectList(applicationDbContext.DefectTypes.Select(a=>a.TypeName).ToList())" class="form-control valid">
            </select>
            <span class="invalid" asp-validation-for="Defect.Type"></span>
        </div>
        <div class="col-sm-2">
        </div>
    </div>

    <div class="invalid" asp-validation-summary="ModelOnly">
    </div>

    <button type="submit" class="btn btn-primary">提交</button>
    <a asp-action="Index" class="btn btn-secondary">返回列表</a>
</form>